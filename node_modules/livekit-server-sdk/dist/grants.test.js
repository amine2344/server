import { TrackSource } from "@livekit/protocol";
import { describe, expect, it } from "vitest";
import { claimsToJwtPayload } from "./grants";
describe("ClaimGrants are parsed correctly", () => {
  it("parses TrackSource correctly to strings", () => {
    var _a;
    const grant = {
      canPublishSources: [
        TrackSource.CAMERA,
        TrackSource.MICROPHONE,
        TrackSource.SCREEN_SHARE,
        TrackSource.SCREEN_SHARE_AUDIO
      ]
    };
    const claim = { video: grant };
    const jwtPayload = claimsToJwtPayload(claim);
    expect(jwtPayload.video).toBeTypeOf("object");
    expect((_a = jwtPayload.video) == null ? void 0 : _a.canPublishSources).toEqual([
      "camera",
      "microphone",
      "screen_share",
      "screen_share_audio"
    ]);
  });
});
//# sourceMappingURL=grants.test.js.map